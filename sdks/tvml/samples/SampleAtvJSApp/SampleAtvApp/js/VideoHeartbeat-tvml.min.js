/*! ************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2015 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 * *************************************************************************/

/*! Copyright for external libraries used in ADBMobile library */
/*!
 * JavaScript MD5 1.0.1
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 * 
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
var _version=function(){var a="tvosjs-1.0.0",b=3;return{codeVersion:a,mediaAPILevel:b}}(),ADBMobile_platform=function(){function a(a,b){try{localStorage.setItem(a,b)}catch(c){console.error("Failed to store data element: "+c)}}function b(a){try{return localStorage.getItem(a)}catch(b){console.error("Failed to retrieve data element: "+b)}return null}function c(a,b,c,d,e,f){if(!a)return _logger.error("HTTPRequestAsync - URL required but was not passed"),null;c=c||{},e=e||500,f=f||function(){};var g=new XMLHttpRequest;g.onreadystatechange=function(){4==g.readyState&&(f(g.status,g.responseText,d||a),f=function(){})},g.timeout=e,g.ontimeout=function(){f(0,null,a),f=function(){}},g.open(b,a,!0),Object.keys(c).forEach(function(a){g.setRequestHeader(a,this[a])},c),g.send(d)}function d(){return"1920x1080"}function e(){return Device.systemVersion}function f(){return Device.model}function g(){return Device.appIdentifier}function h(){return g()}function i(){return Math.floor((new Date).getTime()/1e3)}function j(){return(new Date).getTime()}function k(){return"00/00/0000 00:00:00 0 "+(new Date).getTimezoneOffset()}function l(a,b){return setInterval(a,b)}function m(a){clearInterval(a)}function n(a){var b=new DOMParser;return b.parseFromString(a,"text/xml")}function o(a){return a.item(0)}return{httpRequestAsync:c,writeValue:a,readValue:b,getResolution:d,getDeviceName:f,getOSVersion:e,getAppID:g,getDefaultPageName:h,getTimeSince1970:i,getTimeSince1970Millis:j,getTimestampString:k,setInterval:l,clearInterval:m,parseXML:n,getBaseItem:o}}(),_logger=function(){function a(a){_shared.isFunction(a)&&(h=a)}function b(a){g=a}function c(){return g}function d(a){g&&(console.log("ADBMobile Warning: "+a),h&&h(a))}function e(a){g&&(console.log("ADBMobile Debug: "+a),h&&h(a))}function f(a){console.log("ADBMobile Error: "+a),h&&h(a)}var g=!1,h=null;return{setDebugLogging:b,getDebugLogging:c,setLoggerCallback:a,warning:d,debug:e,error:f}}(),_shared=function(){function a(a){return"&c."+d(e(a))+"&.c"}function b(a,b){return"undefined"!=typeof b&&null!==b?"&"+encodeURIComponent(a)+"="+encodeURIComponent(b):""}function c(a){var c="";for(var d in a)c+=b(d,a[d]);return c}function d(a){var c="";return a=a||{},Object.keys(a).forEach(function(a){this[a].v&&(c+=b(a,this[a].v)),this[a].subValues&&(c+="&"+a+"."+d(this[a].subValues)+"&."+a)},a),c}function e(a){var b={},c=f(a);return Object.keys(c).forEach(function(a){var c=this[a];!function d(a,b,c,e){if(!(e>=c.length)){var f=c[e];if(b[f]||(b[f]={}),c.length-1==e)return void(b[f].v=a);b[f].subValues||(b[f].subValues={}),d(a,b[f].subValues,c,e+1)}}(c,b,a.split("."),0)},c),b}function f(a){var b={};return a=a||{},Object.keys(a).forEach(function(a){if("string"==typeof a){var c=a.replace(h,".").replace(i,"");c&&(b[c]=this[a])}},a),b}function g(a){return"function"==typeof a}var h=new RegExp("([.]){2,}","g"),i=new RegExp("[^0-9a-zA-Z._]|^[.]{1,}|[.]{1,}$","g");return{serializeContextData:a,serializeKeyValuePair:b,serializeParameters:c,isFunction:g}}(),_utils={};!function(a){"use strict";var b=function(){return this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._interval=null,this._name=null,this._enabled=!1,this._nextTick=null,this};b.prototype.start=function(a,b){this._enabled?_logger.debug("Timer -  "+this._name+" timer already started."):(_logger.debug("Timer - starting "+b+" timer with interval ("+a+")"),this._interval=a,this._name=b,this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._nextTick=this._interval,this._enabled=!0)},b.prototype.stop=function(){this._enabled?(_logger.debug("Timer - stoping "+this._name+" timer."),this._enabled=!1,this._nextTick=0):_logger.debug("Timer -  "+this._name+" timer already stopped.")},b.prototype.restartWithNewInterval=function(a){_logger.debug("Timer - restarting "+this._name+" timer with interval ("+a+")"),this._interval=a,this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._nextTick=this._interval,this._enabled=!0},b.prototype.reset=function(){_logger.debug("Timer - resetting "+this._name),this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._nextTick=this._interval,this._enabled=!0},b.prototype.ticked=function(){var a=!1,b=ADBMobile_platform.getTimeSince1970Millis()-this._ts;return b>=this._nextTick&&(this._nextTick=b+this._interval,a=!0),a},b.prototype.elapsedTime=function(){return ADBMobile_platform.getTimeSince1970Millis()-this._ts};var c=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};a.Timer=b,a.append=c}(_utils);var _serializeAndSendHeartbeat=function(){function a(a){_config.getPrivacyStatus()!=_config.PRIVACY_STATUS_OPT_OUT?(_logger.debug("MediaHeartbeat - Queued Hit"),this._queue.push(a),e.call(this)):_logger.debug("MediaHeartbeat - Not queueing hit. Privacy is not set to optedin.")}function b(a){_config.getPrivacyStatus()!=_config.PRIVACY_STATUS_OPT_OUT?(_logger.debug("MediaHeartbeat - Queued Hit"),this._asyncQueue.push(a)):_logger.debug("MediaHeartbeat - Not queueing hit. Privacy is not set to optedin.")}function c(){if(this._asyncQueue.length>0){_logger.debug("MediaHeartbeat - Flush requests. Pending requests:"+this._asyncQueue.length);var a=function(a,b,c){};for(var b in this._asyncQueue)if(this._asyncQueue.hasOwnProperty(b)){var c=f.call(this,this._asyncQueue[b]);_logger.debug("MediaHeartbeat - Seding the Media Heartbeat Hit ("+c+")"),ADBMobile_platform.httpRequestAsync(c,"GET",{},"",2e3,a)}this._asyncQueue=[]}}function d(a,b,c){if(200==a)if(_logger.debug("MediaHeartbeat - Successfully sent hit with response data:"+b),b){var d=ADBMobile_platform.parseXML(b),f={};_logger.debug("MediaHeartbeat - XML response ("+d+")");var g=d.getElementsByTagName("trackingInterval");g&&g.length>0&&(f.trackingInterval=parseInt(ADBMobile_platform.getBaseItem(g).textContent)),g=d.getElementsByTagName("trackExternalErrors"),g&&g.length>0&&(f.trackExternalErrors=parseInt(ADBMobile_platform.getBaseItem(g).textContent)),g=d.getElementsByTagName("setupCheckInterval"),g&&g.length>0&&(f.setupCheckInterval=parseInt(ADBMobile_platform.getBaseItem(g).textContent)),_clockservice.updateCheckStatusInterval(f)}else _logger.debug("MediaHeartbeat - Empty or invalid XML response received");else _logger.error("MediaHeartbeat - Unable to send hit: "+c),_logger.debug("MediaHeartbeat - Response code "+a);this._currentHit=null,e.call(this)}function e(){if(this._queue.length>0&&!this._currentHit){this._currentHit=this._queue.shift();var a=this,b=f.call(this,this._currentHit);_logger.debug("MediaHeartbeat - Sending the Media Heartbeat Hit ("+b+")"),ADBMobile_platform.httpRequestAsync(b,"GET",{},"",2e3,function(b,c,e){d.call(a,b,c,e)})}}function f(a){var b=!1;a.r&&(b=!0);var c=_shared.serializeParameters(a);c.length>2&&(c=c.substring(1));var d=g.call(this,b)+c;return d}function g(a){var b="";if(_config.mTrackingServer){if(b=_config.mSSL()?"https":"http",b=b+"://"+_config.mTrackingServer(),a){var c=_config.mPublisher().replace(i,"-");b=b+"/settings/"+c+".xml"}b+="?"}return b}function h(){this._asyncQueue=[],this._queue=[],this._currentHit=null}var i=new RegExp("[^a-zA-Z0-9]+","g");return{init:h,queueRequestsForResponse:a,queueAsyncRequest:b,flushAsyncRequests:c}}(),_clockservice=function(){function a(a){a.setupCheckInterval?"number"==typeof a.setupCheckInterval?(_logger.debug("ClockService -  updating the check status interval to: "+a.setupCheckInterval),this._checkStatusInterval=1e3*a.setupCheckInterval,this._checkStatusTimer.restartWithNewInterval(this._checkStatusInterval)):_logger.debug("ClockService -  updateCheckStatusInterval: interval not an Integer"):_logger.debug("ClockService -  updateCheckStatusInterval: setupCheckInterval is invalid")}function b(){return this._checkStatusTimer.ticked()?!0:!1}function c(){return this._reportingTimer.ticked()?!0:!1}function d(){return this._flushFilterTimer.ticked()?!0:!1}function e(){this._checkStatusTimer.start(this._checkStatusInterval,this._checkstatus_timer);var a={r:ADBMobile_platform.getTimeSince1970()};_serializeAndSendHeartbeat.queueRequestsForResponse(a),this._reportingTimer.start(this._reportingInterval,this._reporting_timer),this._flushFilterTimer.start(this._flushFilterInterval,this._flushfilter_timer),this._active=!0,this._intervalContext=this._intervalContext=ADBMobile_platform.setInterval(function(){j.call(_clockservice)},250)}function f(){_serializeAndSendHeartbeat.flushAsyncRequests(),this.isActive()&&(this._checkStatusTimer.stop(),this._reportingTimer.stop(),this._flushFilterTimer.stop(),this._active=!1,ADBMobile_platform.clearInterval(this._intervalContext))}function g(){this._checkStatusTimer.reset(),this._reportingTimer.reset(),this._flushFilterTimer.reset()}function h(){return this._active}function i(a){return a==this._reporting_timer?this._reportingTimer:a==this._checkstatus_timer?this._checkStatusTimer:a==this._flushfilter_timer?this._flushFilterTimer:null}function j(){if(this.isActive()){if(this.checkStatusTimerTick()){_logger.debug("ClockServiceLoop - Check Status Timer Ticked");var a={r:ADBMobile_platform.getTimeSince1970()};_serializeAndSendHeartbeat.queueRequestsForResponse(a)}this.flushFilterTimerTick()&&_serializeAndSendHeartbeat.flushAsyncRequests(),this.reportingTimerTick()&&(_media.isPaused()||_media.isSeeking()?_logger.debug("ClockServiceLoop - Reporting timer ticked but ADBMedia is in Paused/Seeking state."):(_logger.debug("ClockServiceLoop - Reporting Timer Ticked"),_media.trackPlaybackState()))}else _logger.debug("ClockServiceLoop -  ClockService not initialized yet")}function k(){this._ts=ADBMobile_platform.getTimeSince1970(),this._checkStatusInterval=6e4,this._reportingInterval=1e4,this._flushFilterInterval=250,this._active=!1,this._reporting_timer="ReportingTimer",this._checkstatus_timer="CheckStatusTimer",this._flushfilter_timer="FlushFilterTimer";var a=_utils.Timer;this._checkStatusTimer=new a,this._reportingTimer=new a,this._flushFilterTimer=new a}return{updateCheckStatusInterval:a,checkStatusTimerTick:b,reportingTimerTick:c,flushFilterTimerTick:d,startClockService:e,stopClockService:f,resetClockService:g,isActive:h,getTimer:i,init:k}}(),_media=function(){function a(){_clockservice.init(),_serializeAndSendHeartbeat.init(),_paramsResolver.init(),_mediacontext.init(),this._isEnabled=_config.mediaHearbeatEnabled(),this._isPaused=!1,this._isSeeking=!1}function b(){this._isEnabled=!0}function c(){return this._isEnabled}function d(){this._isEnabled=!1}function e(){return this._isPaused}function f(){return this._isSeeking}function g(){if(_config.mediaHearbeatEnabled()&&this.isEnabled()){_clockservice.startClockService();var a=_paramsResolver.getContextData("start");_analytics.trackAction("",a);var b=_paramsResolver.resolveDataForEvent("media-start");_serializeAndSendHeartbeat.queueAsyncRequest(b);var c=_paramsResolver.resolveDataForEvent(_paramsResolver._aa_start);_serializeAndSendHeartbeat.queueAsyncRequest(c),_mediacontext.setActiveSession(!0)}else _logger.debug("trackStart: ADB Media module is in error state.")}function h(a,b){_config.mediaHearbeatEnabled()?(this.isEnabled()||this.enable(),_mediacontext.setMediaInfo(a),_mediacontext.setMediaContextData(b),_mediacontext.isActiveTracking()&&_mediacontext.resetState(),_mediacontext.setIsActiveTracking(!0)):_logger.debug("trackLoad: ADB Media module is in error state.")}function i(){_mediacontext.isActiveTracking()||_logger.debug("trackUnload: No active tracking session."),_mediacontext.setIsActiveTracking(!1),_mediacontext.setActiveSession(!1),_mediacontext.resetState(),_clockservice.stopClockService()}function j(){if(_config.mediaHearbeatEnabled()&&this.isEnabled()){if(_mediacontext.isActiveSession()||this.trackStart(),this._isPaused&&!this._isSeeking){var a=_clockservice.getTimer(_clockservice._reporting_timer);a&&a.reset(),this._isPaused=!1,D.call(this)}else{var b=_paramsResolver.resolveDataForEvent(_mediacontext.getCurrentPlaybackState());_serializeAndSendHeartbeat.queueAsyncRequest(b)}D.call(this)}else _logger.debug("trackPlaybackState: ADB Media module is in error state.")}function k(){_config.mediaHearbeatEnabled()&&this.isEnabled()?(E.call(this),this._isPaused=!0):_logger.debug("trackPause: ADB Media module is in error state.")}function l(){if(_config.mediaHearbeatEnabled()&&this.isEnabled()){E.call(this);var a=_paramsResolver.resolveDataForEvent(_paramsResolver._media_complete);_serializeAndSendHeartbeat.queueAsyncRequest(a)}else _logger.debug("trackComplete: ADB Media module is in error state.")}function m(a,b){var c=_paramsResolver.resolveDataForEvent("error");c["s:event:source"]=b,c["s:event:id"]=a,_serializeAndSendHeartbeat.queueAsyncRequest(c)}function n(a,b,c){_config.mediaHearbeatEnabled()&&this.isEnabled()&&(a==_media.BUFFER_START?s.call(this):a==_media.BUFFER_COMPLETE?t.call(this):a==_media.SEEK_START?u.call(this):a==_media.SEEK_COMPLETE?v.call(this):a==_media.BITRATE_CHANGE?C.call(this):a==_media.CHAPTER_START?w.call(this,b,c):a==_media.CHAPTER_COMPLETE?x.call(this):a==_media.CHAPTER_SKIP?y.call(this):a==_media.AD_BREAK_START?p.call(this,b):a==_media.AD_BREAK_COMPLETE?q.call(this):a==_media.AD_BREAK_SKIP?r.call(this):a==_media.AD_START?z.call(this,b,c):a==_media.AD_COMPLETE?A.call(this):a==_media.AD_SKIP?B.call(this):_logger.debug("trackMediaEvent: ADB Media module is in error state."))}function o(a){_config.mediaHearbeatEnabled()?_mediacontext.setDelegate(a):_logger.debug("setDelegate: ADB Media module is in error state.")}function p(a){_mediacontext.setAdBreakInfo(a)}function q(){_mediacontext.setAdBreakInfo(null)}function r(){_mediacontext.setAdBreakInfo(null)}function s(){E.call(this),_mediacontext.setInBuffering(!0),this.trackPlaybackState()}function t(){E.call(this),_mediacontext.setInBuffering(!1),_mediacontext.updateTimeStampForEvent("buffer","-1"),_mediacontext.updateRefTSForEvent("buffer","-1"),D.call(this)}function u(){this._isSeeking=!0,E.call(this)}function v(){if(this._isSeeking){var a=_clockservice.getTimer(_clockservice._reporting_timer);a&&a.reset(),this._isSeeking=!1}else _logger.warning("trackMediaEvent: SEEK_COMPLETE - Not in seek state, nothing to do.")}function w(a,b){E.call(this),_mediacontext.setInChapterTo(!0),_mediacontext.setChapterInfo(a),_mediacontext.setChapterContextData(b);var c=this,d=_paramsResolver.resolveDataForEvent(_paramsResolver._chapter_start);_serializeAndSendHeartbeat.queueAsyncRequest(d),c.trackPlaybackState()}function x(){E.call(this);var a=_paramsResolver.resolveDataForEvent(_paramsResolver._chapter_complete);_serializeAndSendHeartbeat.queueAsyncRequest(a),_mediacontext.setInChapterTo(!1),_mediacontext.updateRefTSForEvent(_mediacontext.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}function y(){_mediacontext.setInChapterTo(!1),_mediacontext.setChapterInfo(null)}function z(a,b){E.call(this),_mediacontext.setInAdTo(!0),_mediacontext.setAdInfo(a),_mediacontext.setAdContextData(b);var c=_paramsResolver.resolveDataForEvent(_paramsResolver._ad_start);_serializeAndSendHeartbeat.queueAsyncRequest(c);var d=_paramsResolver.getContextData("ad-start");_analytics.trackAction("",d);var e=_paramsResolver.resolveDataForEvent(_paramsResolver._aa_ad_start);_serializeAndSendHeartbeat.queueAsyncRequest(e)}function A(){E.call(this);var a=_paramsResolver.resolveDataForEvent(_paramsResolver._ad_complete);_serializeAndSendHeartbeat.queueAsyncRequest(a),_mediacontext.setInAdTo(!1),_mediacontext.updateRefTSForEvent(_mediacontext.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}function B(){_mediacontext.setInAdTo(!1),_mediacontext.setAdInfo(null)}function C(){_mediacontext.updateRefTSForEvent(_paramsResolver._bitrate_change,ADBMobile_platform.getTimeSince1970Millis());var a=_paramsResolver.resolveDataForEvent(_paramsResolver._bitrate_change);_serializeAndSendHeartbeat.queueAsyncRequest(a)}function D(){if(_mediacontext.isInAd()){var a=_mediacontext.getAdInfo(),b=a.id;_mediacontext.updateRefTSForEvent(b+"_"+_mediacontext.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}else _mediacontext.updateRefTSForEvent(_mediacontext.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}function E(){var a=_clockservice.getTimer(_clockservice._reporting_timer);a&&a.elapsedTime()>250&&(this.trackPlaybackState(),a.reset())}return{init:function(){a.call(_media)},enable:function(){b.call(_media)},isEnabled:function(){return c.call(_media)},disable:function(){d.call(_media)},isPaused:function(){return e.call(_media)},isSeeking:function(){return f.call(_media)},trackStart:function(){g.call(_media)},trackLoad:function(a,b){h.call(_media,a,b)},trackUnload:function(){i.call(_media)},trackPlaybackState:function(){j.call(_media)},trackPause:function(){k.call(_media)},trackComplete:function(){l.call(_media)},trackError:function(a){m.call(_media,a,_media.ERROR_SOURCE_PLAYER)},trackEvent:function(a,b,c){n.call(_media,a,b,c)},setDelegate:function(a){o.call(_media,a)}}}();_media.BUFFER_START="MediaBufferStart",_media.BUFFER_COMPLETE="MediaBufferComplete",_media.SEEK_START="MediaSeekStart",_media.SEEK_COMPLETE="MediaSeekComplete",_media.BITRATE_CHANGE="MediaBitrateChange",_media.CHAPTER_START="MediaChapterStart",_media.CHAPTER_COMPLETE="MediaChapterComplete",_media.CHAPTER_SKIP="MediaChapterSkip",_media.AD_BREAK_START="MediaAdBreakStart",_media.AD_BREAK_COMPLETE="MediaAdBreakComplete",_media.AD_BREAK_SKIP="MediaAdBreakSkip",_media.AD_START="MediaAdStart",_media.AD_COMPLETE="MediaAdComplete",_media.AD_SKIP="MediaAdSkip",_media.STREAM_TYPE_LIVE="live",_media.STREAM_TYPE_VOD="vod",_media.SOURCE_APPLICATION="sourceErrorExternal",_media.SOURCE_PLAYER="sourceErrorSDK",_media.MediaInfo=function(){this.id="",this.name="",this.length=0,this.streamType=_media.STREAM_TYPE_VOD},_media.AdInfo=function(){this.id="",this.name="",this.length=0,this.position=0},_media.ChapterInfo=function(){this.name="",this.length=0,this.position=0,this.offset=0},_media.AdBreakInfo=function(){this.name=null,this.startTime=null,this.position=0,this.playerName=null},_media.QoSInfo=function(){this.bitrate=0,this.fps=0,this.droppedFrames=0,this.startupTime=0};var _mediacontext=function(){function a(){this.eventTSMap={},this.isInAdValue=!1,this.isInChapterValue=!1,this.isActiveTrackingValue=!1,this._isSessionActive=!1,this.resetState()}function b(a){this.isInAdValue=a}function c(a){this.isActiveTrackingValue=a}function d(a){this.isInChapterValue=a}function e(){return this.isActiveTrackingValue}function f(){return this.buffering}function g(){return this.isInAdValue}function h(){return this.isInChapterValue}function i(){return this._isSessionActive}function j(a){this._isSessionActive=a}function k(a){this.buffering=a}function l(){var a=this.currMediaInfo;return a?_mediaPlayerDataValidator.isValidMediaInfoObject(a)||(_logger.warning("Media - MediaInfo object is not valid"),a=null):_logger.warning("Media - MediaInfo object not set."),a}function m(){var a=this.currAdBreakInfo;return a?_mediaPlayerDataValidator.isValidAdBreakInfoObject(a)||(_logger.warning("Media - AdBreakInfo object is not valid"),a=new _media.AdBreakInfo,a._isEmptyAdBreak=!0):(_logger.warning("Media - AdBreakInfo object not set."),a=new _media.AdBreakInfo,a._isEmptyAdBreak=!0),a}function n(){var a=this.currAdInfo;return a?_mediaPlayerDataValidator.isValidAdInfoObject(a)||(_logger.warning("Media - AdInfo object is not valid"),a=null):_logger.warning("Media - AdInfo object not set."),a}function o(){var a=this.currChapterInfo;return a?_mediaPlayerDataValidator.isValidChapterInfoObject(a)||(_logger.warning("Media - ChapterInfo object is not valid"),a=null):_logger.warning("Media - ChapterInfo object not set."),a}function p(){var a;return this.delegate&&"function"==typeof this.delegate.getQoSInfo&&(a=this.delegate.getQoSInfo()),a?_mediaPlayerDataValidator.isValidQoSInfoObject(a)||(_logger.warning("Media - QoSInfo object is not valid"),a=null):_logger.warning("Media - QoSInfo object not set."),a}function q(){var a=this.currMediaContextData;return a||_logger.warning("Media - Media context data is not set."),a}function r(){var a=this.currChapterContextData;return a||_logger.warning("Media - Chapter context data is not set."),a}function s(){var a=this.currAdContextData;return a||_logger.warning("Media - Ad context data is not set."),a}function t(a){a||_logger.warning("Media - Setting media info to invalid."),this.currMediaInfo=a}function u(a){a||_logger.warning("Media - Setting ad break info to invalid."),this.currAdBreakInfo=a}function v(a){a||_logger.warning("Media - Setting ad info to invalid."),this.currAdInfo=a}function w(a){a||_logger.warning("Media - Setting chapter info to invalid."),this.currChapterInfo=a}function x(a){a||_logger.warning("Media - Setting media qos context data to invalid."),this.currMediaContextData=a}function y(a){a||_logger.warning("Media - Setting ad context to invalid."),this.currAdContextData=a}function z(a){a||_logger.warning("Media - Setting chapter context info to invalid."),this.currChapterContextData=a}function A(){this.setInAdTo(!1),this.setInChapterTo(!1),this.isActiveTrackingValue=!1,this.eventTSMap={},this.refTSMap={},this.buffering=!1,this.delegate=null,this.mid=null,this.mid_start=!1,this.aid=null,this.aid_start=!1}function B(a,b){this.eventTSMap[a]=b}function C(a,b){this.refTSMap[a]=b}function D(a){a&&"function"==typeof a.getCurrentPlaybackTime?this.delegate=a:_logger.error("Media - setDelegate error. The delegate object is required to have the following functions: getCurrentPlaybackTime, getQoSInfo")}function E(){return this.delegate?this.delegate.getCurrentPlaybackTime():(_logger.error("Media - Please set the media delegate before starting the video tracking."),-1)}function F(){return this.buffering?"buffer":"play"}function G(a){return this.eventTSMap[a]||(this.eventTSMap[a]="-1"),this.eventTSMap[a]}function H(a){return this.refTSMap[a]?this.refTSMap[a]:-1}function I(){if(!this.mid_start){var a=this;this.mid_start=!0,_visitor.getMarketingCloudIDAsync(function(b){a.mid=b})}return this.mid}function J(){if(!this.aid_start){var a=this;this.aid_start=!0,_aid.getAIDAsync(function(b){a.aid=b})}return this.aid}function K(){return _config.getUserIdentifier()}return{init:a,setInAdTo:b,setIsActiveTracking:c,setInChapterTo:d,isActiveTracking:e,isBuffering:f,isInAd:g,isInChapter:h,isActiveSession:i,setActiveSession:j,setInBuffering:k,getMediaInfo:l,getAdBreakInfo:m,getAdInfo:n,getChapterInfo:o,getQoSInfo:p,getMediaContextData:q,getChapterContextData:r,getAdContextData:s,setMediaInfo:t,setAdBreakInfo:u,setAdInfo:v,setChapterInfo:w,setMediaContextData:x,setAdContextData:y,setChapterContextData:z,resetState:A,updateTimeStampForEvent:B,updateRefTSForEvent:C,getCurrentPlayhead:E,getCurrentPlaybackState:F,getRefTSForEvent:H,getTimeStampForEvent:G,getVisitorID:I,getAdobeAnalyticsID:J,getUserID:K,setDelegate:D}}(),_paramsResolver=function(){function a(){var a={};return a[this._analytics_rsid]=null,a[this._analytics_trackingserver]=null,a[this._analytics_ssl]=null,a[this._user_aid]=null,a[this._user_mid]=null,a[this._user_vid]=null,a[this._cuser_id]=null,a[this._cuser_puuid]=null,a[this._service_ovp]=null,a[this._service_sdk]=null,a[this._service_channel]=null,a[this._service_playername]=null,a[this._service_hbversion]=null,a[this._service_apilevel]=null,a[this._event_sid]=null,a[this._event_type]=null,a[this._event_duration]=null,a[this._event_playhead]=null,a[this._event_ts]=null,a[this._event_prevts]=null,a[this._asset_type]=null,a[this._asset_mediaid]=null,a[this._asset_publisher]=null,a[this._asset_length]=null,a[this._asset_name]=null,a[this._asset_adid]=null,a[this._asset_adsid]=null,a[this._asset_adname]=null,a[this._asset_adlength]=null,a[this._asset_resolver]=null,a[this._asset_podid]=null,a[this._asset_podposition]=null,a[this._asset_podname]=null,a[this._asset_podoffset]=null,a[this._stream_chapterid]=null,a[this._stream_chaptersid]=null,a[this._stream_chaptername]=null,a[this._stream_chapterpos]=null,a[this._stream_chapterlength]=null,a[this._stream_chapteroffset]=null,a[this._stream_type]=null,a[this._stream_bitrate]=null,a[this._stream_fps]=null,a[this._stream_droppedFrames]=null,a[this._stream_startup_time]=null,a}function b(b){var c,o,p=a.call(this);return e.call(this,p),g.call(this,p),i.call(this,p),h.call(this,p),p[this._event_sid]=r.call(this),b==this._aa_start?(j.call(this,p,b),d.call(this,p)):b==this._aa_ad_start?j.call(this,p,b):b==this._media_start?(j.call(this,p,"start"),n.call(this,p)):b==this._ad_start?(this._adSessionIdValue=null,j.call(this,p,"start"),n.call(this,p),c=_mediacontext.getAdInfo(),o=c.id,_mediacontext.updateRefTSForEvent(o+"_"+_mediacontext.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())):b==this._ad_complete?j.call(this,p,"complete"):b==this._chapter_start?(this._chapterSessionIdValue=null,_mediacontext.updateRefTSForEvent(b,ADBMobile_platform.getTimeSince1970Millis()),j.call(this,p,b),n.call(this,p)):b==this._chapter_complete?(_mediacontext.updateRefTSForEvent(b,ADBMobile_platform.getTimeSince1970Millis()),j.call(this,p,b)):b==this._bitrate_change?j.call(this,p,b):b==this._media_complete?(j.call(this,p,"complete"),this._mediaSessionIdValue=null):j.call(this,p,b),_mediacontext.isInAd()?(l.call(this,p),c=_mediacontext.getAdInfo(),o=c.id,k.call(this,p,o+"_"+b)):k.call(this,p,b),_mediacontext.isInChapter()&&m.call(this,p),f.call(this,p),p}function c(a){var b,c,d={};if("start"==a)b=_mediacontext.getMediaContextData(),b&&_utils.append(d,b),c=_mediacontext.getMediaInfo(),d["a.contentType"]=c.streamType,d["a.media.name"]=c.id,d["a.media.friendlyName"]=c.name,d["a.media.length"]=Math.floor(c.length)||"0",d["a.media.playerName"]=_config.mPlayerName(),d["a.media.channel"]=_config.mChannel(),d["a.media.view"]="true",d["&&pev3"]="video",d["&&pe"]="ms_s",_aam.getDpid()&&(d["&&cid.userId.id"]=_aam.getDpid()),_aam.getDpuuid()&&(d["&&cid.puuid.id"]=_aam.getDpuuid());else if("ad-start"==a){b=_mediacontext.getMediaContextData();var e=_mediacontext.getAdContextData();b&&_utils.append(d,b),e&&_utils.append(d,e),c=_mediacontext.getMediaInfo();var f=_mediacontext.getAdInfo(),g=_mediacontext.getAdBreakInfo(),h=_utils.md5(c.id),i=h+"_"+(g.position||""),j="undefined"==typeof g.startTime?_mediacontext.getCurrentPlayhead():g.startTime;d["a.contentType"]=c.streamType,d["a.media.name"]=c.id,d["a.media.playerName"]=_config.mPlayerName(),d["a.media.channel"]=_config.mChannel(),d["a.media.ad.name"]=f.id,d["a.media.ad.friendlyName"]=f.name,d["a.media.ad.podFriendlyName"]=g.name||"",d["a.media.ad.length"]=Math.floor(f.length)||"0",d["a.media.ad.playerName"]=g.playerName||_config.mPlayerName(),d["a.media.ad.pod"]=i,d["a.media.ad.podPosition"]=Math.floor(f.position)||"0",d["a.media.ad.podSecond"]=Math.floor(j)||"0",d["a.media.ad.view"]=!0,d["&&pev3"]="videoAd",d["&&pe"]="msa_s",_aam.getDpid()&&(d["&&cid.userId.id"]=_aam.getDpid()),_aam.getDpuuid()&&(d["&&cid.puuid.id"]=_aam.getDpuuid())}return d}function d(a){_aam.getDpid()&&(a[this._cuser_id]=_aam.getDpid()),_aam.getDpuuid()&&(a[this._cuser_puuid]=_aam.getDpuuid())}function e(a){a[this._analytics_rsid]=_config.reportSuiteIDs(),a[this._analytics_trackingserver]=_config.trackingServer(),_config.ssl()?a[this._analytics_ssl]=1:a[this._analytics_ssl]=0}function f(a){a[this._user_aid]=_mediacontext.getAdobeAnalyticsID(),a[this._user_mid]=_mediacontext.getVisitorID(),a[this._user_vid]=_mediacontext.getUserID()}function g(a){a[this._service_ovp]=_config.mOVP(),a[this._service_sdk]=_config.mSDK(),a[this._service_channel]=_config.mChannel(),a[this._service_playername]=_config.mPlayerName(),a[this._service_hbversion]=_version.codeVersion,a[this._service_apilevel]=_version.mediaAPILevel}function h(a){var b=_mediacontext.getMediaInfo();b&&(a[this._stream_type]=b.streamType);var c=_mediacontext.getQoSInfo();c&&(a[this._stream_droppedFrames]=Math.floor(c.droppedFrames),a[this._stream_startup_time]=Math.floor(c.startupTime),a[this._stream_fps]=Math.floor(c.fps),a[this._stream_bitrate]=Math.floor(c.bitrate))}function i(a){var b=_mediacontext.getMediaInfo();a[this._asset_type]="main",b&&(a[this._asset_mediaid]=b.id,a[this._asset_length]=Math.floor(b.length),a[this._asset_name]=b.name),a[this._asset_publisher]=_config.mPublisher()}function j(a,b){var c=_mediacontext.getCurrentPlayhead();"number"==typeof c&&(a[this._event_playhead]=Math.floor(c)),a[this._event_type]=b}function k(a,b){var c=ADBMobile_platform.getTimeSince1970Millis(),d=_mediacontext.getTimeStampForEvent(b),e=_mediacontext.getRefTSForEvent(b);-1==e&&(e=d),a[this._event_prevts]=d,a[this._event_ts]=c,-1==e?a[this._event_duration]=0:a[this._event_duration]=v(c,e),_mediacontext.updateTimeStampForEvent(b,c)}function l(a){a[this._asset_type]="ad";var b=_mediacontext.getAdBreakInfo();if(b&&!b._isEmptyAdBreak){a[this._asset_resolver]=b.playerName||_config.mPlayerName(),a[this._asset_podposition]=b.position,a[this._asset_podname]=b.name,a[this._asset_podoffset]=Math.floor(b.startTime);var c=_utils.md5(a[this._asset_mediaid]);a[this._asset_podid]=c+"_"+a[this._asset_podposition]}var d=_mediacontext.getAdInfo();d&&(a[this._asset_adid]=d.id,a[this._asset_adname]=d.name,a[this._asset_adlength]=Math.floor(d.length)),a[this._asset_adsid]=t.call(this)}function m(a){a[this._stream_chaptersid]=s.call(this);var b=_mediacontext.getChapterInfo();if(b){a[this._stream_chapterpos]=b.position;var c=_utils.md5(a[this._asset_mediaid]);a[this._stream_chapterid]=c+"_"+a[this._stream_chapterpos],a[this._stream_chaptername]=b.name,a[this._stream_chapteroffset]=Math.floor(b.offset),a[this._stream_chapterlength]=Math.floor(b.length)}}function n(a){o.call(this,a),_mediacontext.isInAd()&&p.call(this,a),_mediacontext.isInChapter()&&q.call(this,a)}function o(a){var b=_mediacontext.getMediaContextData();if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=this.metaKey+c;a[d]=b[c]}}function p(a){var b=_mediacontext.getAdContextData();if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=this.metaKey+c;a[d]=b[c]}}function q(a){var b=_mediacontext.getChapterContextData();if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=this.metaKey+c;a[d]=b[c]}}function r(){return this._mediaSessionIdValue||(this._mediaSessionIdValue=u.call(this)),this._mediaSessionIdValue}function s(){return this._chapterSessionIdValue||(this._chapterSessionIdValue=u.call(this)),this._chapterSessionIdValue}function t(){return this._adSessionIdValue||(this._adSessionIdValue=u.call(this)),this._adSessionIdValue}function u(){var a=ADBMobile_platform.getTimeSince1970Millis(),b=Math.floor(1e9*Math.random()+1),c=""+a+b;return c}function v(a,b){var c=parseInt(a)-parseInt(b);return c}function w(){this._analytics_rsid="s:sc:rsid",this._analytics_trackingserver="s:sc:tracking_server",this._analytics_ssl="h:sc:ssl",this._user_aid="s:user:aid",this._user_mid="s:user:mid",this._user_vid="s:user:id",this._cuser_id="s:cuser:userId.id",this._cuser_puuid="s:cuser:puuid.id",this._service_sdk="s:sp:sdk",this._service_apilevel="l:sp:hb_api_lvl",this._service_channel="s:sp:channel",this._service_ovp="s:sp:ovp",this._service_playername="s:sp:player_name",this._service_hbversion="s:sp:hb_version",this._asset_type="s:asset:type",this._asset_publisher="s:asset:publisher",this._asset_mediaid="s:asset:video_id",this._asset_length="l:asset:length",this._asset_name="s:asset:name",this._stream_type="s:stream:type",this._stream_droppedFrames="l:stream:dropped_frames",this._stream_startup_time="l:stream:startup_time",this._stream_fps="l:stream:fps",this._stream_bitrate="l:stream:bitrate",this._stream_chaptersid="s:stream:chapter_sid",this._stream_chapterid="s:stream:chapter_id",this._stream_chaptername="s:stream:chapter_name",this._stream_chapteroffset="l:stream:chapter_offset",this._stream_chapterpos="l:stream:chapter_pos",this._stream_chapterlength="l:stream:chapter_length",this._asset_resolver="s:asset:resolver",this._asset_adid="s:asset:ad_id",this._asset_adsid="s:asset:ad_sid",this._asset_adname="s:asset:ad_name",this._asset_adlength="l:asset:ad_length",this._asset_podid="s:asset:pod_id",this._asset_podposition="s:asset:pod_position",this._asset_podname="s:asset:pod_name",
this._asset_podoffset="l:asset:pod_offset",this._event_sid="s:event:sid",this._event_ts="l:event:ts",this._event_prevts="l:event:prev_ts",this._event_type="s:event:type",this._event_duration="l:event:duration",this._event_playhead="l:event:playhead",this._mediaSessionIdValue=null,this._chapterSessionIdValue=null,this._adSessionIdValue=null,this.metaKey="s:meta:",this._aa_start="aa_start",this._aa_ad_start="aa_ad_start",this._bitrate_change="bitrate_change",this._chapter_start="chapter_start",this._chapter_complete="chapter_complete",this._ad_start="media-ad-start",this._ad_complete="media-ad-complete",this._media_start="media-start",this._media_complete="media-complete"}return{init:w,resolveDataForEvent:b,getContextData:c}}(),_mediaPlayerDataValidator=function(){function a(a){return"undefined"==typeof a.id?(_logger.warning("Media - MediaInfo does not have value for media-id"),!1):"undefined"==typeof a.length?(_logger.warning("Media - MediaInfo does not have value for playhead"),!1):!0}function b(a){return"undefined"==typeof a.position?(_logger.warning("Media - AdBreak Info does not have value for position"),!1):!0}function c(a){return"undefined"==typeof a.id?(_logger.warning("Media - Ad Info does not have value for ad id"),!1):!0}function d(a){return"undefined"==typeof a.position?(_logger.warning("Media - Chapter Info does not have value for chapter position"),!1):"undefined"==typeof a.name?(_logger.warning("Media - Chapter Info does not have value for chapter name"),!1):"undefined"==typeof a.offset?(_logger.warning("Media - Chapter Info does not have value for chapter offset"),!1):"undefined"==typeof a.length?(_logger.warning("Media - Chapter Info does not have value for chapter length"),!1):!0}function e(a){return"undefined"==typeof a.droppedFrames?(_logger.warning("Media - QoS Info does not have value for dropped frames"),!1):"undefined"==typeof a.startupTime?(_logger.warning("Media - QoS Info does not have value for startup time"),!1):"undefined"==typeof a.fps?(_logger.warning("Media - QoS Info does not have value for frames per second"),!1):"undefined"==typeof a.bitrate?(_logger.warning("Media - QoS Info does not have value for bitrate"),!1):!0}function f(a){return _config.mSDK()?_config.mChannel()?_config.mOVP()?_config.mPlayerName()?!0:(_logger.warning("Media - Config object does not have value for playername."),!1):(_logger.warning("Media - Config object does not have value for ovp."),!1):(_logger.warning("Media - Media - Config object does not have value for channel."),!1):(_logger.warning("Media - Config object does not have value for sdk."),!1)}return{isValidMediaInfoObject:a,isValidAdBreakInfoObject:b,isValidAdInfoObject:c,isValidChapterInfoObject:d,isValidQoSInfoObject:e,isValidConfigObject:f}}();!function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(_utils);var ADB={};!function(a){"use strict";function b(){this.trackingServer=void 0,this.channel="",this.publisher=void 0,this.ovp=void 0,this.sdkVersion=void 0,this.playerName=void 0,this.ssl=!1,this.setDebugLogging=function(a){_logger.setDebugLogging(a)}}a.MediaHeartbeatConfig=new b}(ADB),function(a){a.MediaHeartbeat={trackLoad:_media.trackLoad,trackUnload:_media.trackUnload,trackPlay:_media.trackPlaybackState,trackPause:_media.trackPause,trackComplete:_media.trackComplete,trackError:_media.trackError,trackEvent:_media.trackEvent,setDelegate:_media.setDelegate,MediaInfo:_media.MediaInfo,AdInfo:_media.AdInfo,ChapterInfo:_media.ChapterInfo,AdBreakInfo:_media.AdBreakInfo,QoSInfo:_media.QoSInfo},a.MediaHeartbeat.Event={AdBreakStart:_media.AD_BREAK_START,AdBreakComplete:_media.AD_BREAK_COMPLETE,AdBreakSkip:_media.AD_BREAK_SKIP,AdStart:_media.AD_START,AdComplete:_media.AD_COMPLETE,AdSkip:_media.AD_SKIP,ChapterStart:_media.CHAPTER_START,ChapterComplete:_media.CHAPTER_COMPLETE,ChapterSkip:_media.CHAPTER_SKIP,SeekStart:_media.SEEK_START,SeekComplete:_media.SEEK_COMPLETE,BufferStart:_media.BUFFER_START,BufferComplete:_media.BUFFER_COMPLETE,BitrateChange:_media.BITRATE_CHANGE},a.MediaHeartbeat.StreamType={VOD:_media.STREAM_TYPE_VOD,LIVE:_media.STREAM_TYPE_LIVE},_config={getUserIdentifier:function(){return ADBMobile.userIdentifier()},getPrivacyStatus:function(){return ADBMobile.privacyStatus()===ADBMobilePrivacyStatusOptIn?this.PRIVACY_STATUS_OPT_IN:ADBMobile.privacyStatus()===ADBMobilePrivacyStatusOptOut?this.PRIVACY_STATUS_OPT_OUT:ADBMobile.privacyStatus()===ADBMobilePrivacyStatusUnknown?this.PRIVACY_STATUS_OPT_UNKNOWN:void 0},mediaHearbeatEnabled:function(){return!("object"!=typeof a.MediaHeartbeatConfig||null===a.MediaHeartbeatConfig)},trackingServer:function(){return ADBMediaHeartbeatJSExport.trackingServer()||null},reportSuiteIDs:function(){return ADBMediaHeartbeatJSExport.reportSuiteIDs()||null},ssl:function(){return ADBMediaHeartbeatJSExport.ssl()||!1},mTrackingServer:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.trackingServer||null:void 0},mPublisher:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.publisher||null:void 0},mChannel:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.channel||null:void 0},mPlayerName:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.playerName||null:void 0},mSSL:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.ssl||!1:void 0},mOVP:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.ovp||null:void 0},mSDK:function(){return this.mediaHearbeatEnabled()?a.MediaHeartbeatConfig.sdkVersion||null:void 0},PRIVACY_STATUS_OPT_IN:1,PRIVACY_STATUS_OPT_OUT:2,PRIVACY_STATUS_OPT_UNKNOWN:3},_analytics={trackAction:function(a,b){ADBMobile.trackActionData(a,b)}},_visitor={getMarketingCloudIDAsync:function(a){var b=ADBMobile.visitorMarketingCloudID();a(b)}},_aid={getAIDAsync:function(a){var b=ADBMobile.trackingIdentifier();a(b)}},_aam={setDpidAndDpuuid:function(a,b){ADBMobile.audienceSetDpidDpuuid(a,b)},getDpid:function(){return ADBMobile.audienceDpid()},getDpuuid:function(){return ADBMobile.audienceDpuuid()}},_media.init()}(ADB);